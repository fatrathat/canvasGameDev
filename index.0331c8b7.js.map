{"mappings":"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","sources":["src/index.js"],"sourcesContent":["const refs = {\n  canvas: document.querySelector('#myCanvas'),\n};\n\nconst brick = {\n  brickRowCount: 3,\n  brickColumnCount: 5,\n  brickWidth: 75,\n  brickHeight: 20,\n  brickPadding: 10,\n  brickOffsetTop: 30,\n  brickOffsetLeft: 30,\n};\n\nconst bricks = [];\nfor (let c = 0; c < brick.brickColumnCount; c++) {\n  bricks[c] = [];\n  for (let r = 0; r < brick.brickRowCount; r++) {\n    bricks[c][r] = { x: 0, y: 0, status: 1 };\n  }\n}\n\nconst ctx = refs.canvas.getContext('2d');\nconst ballRadius = 10;\nconst paddleHeight = 10;\nconst paddleWidth = 75;\n\nlet x = refs.canvas.width / 2;\nlet y = refs.canvas.height - 30;\nlet dx = 2;\nlet dy = -2;\nlet paddleX = (refs.canvas.width - paddleWidth) / 2;\nlet rightPressed = false;\nlet leftPressed = false;\nlet score = 0;\nlet lives = 3;\n\n// Отрисовка мяча\nconst drawBall = () => {\n  ctx.beginPath();\n  ctx.arc(x, y, ballRadius, 0, Math.PI * 2);\n  ctx.fillStyle = '#0095DD';\n  ctx.fill();\n  ctx.closePath();\n};\n\n// Отрисовка ракетки\nconst drawPaddle = () => {\n  ctx.beginPath();\n  ctx.rect(\n    paddleX,\n    refs.canvas.height - paddleHeight,\n    paddleWidth,\n    paddleHeight\n  );\n  ctx.fillStyle = '#0095DD';\n  ctx.fill();\n  ctx.closePath();\n};\n\n//Отрисовка блоков\nconst drawBricks = () => {\n  for (let c = 0; c < brick.brickColumnCount; c++) {\n    for (let r = 0; r < brick.brickRowCount; r++) {\n      if (bricks[c][r].status == 1) {\n        let brickX =\n          c * (brick.brickWidth + brick.brickPadding) + brick.brickOffsetLeft;\n        let brickY =\n          r * (brick.brickHeight + brick.brickPadding) + brick.brickOffsetTop;\n        bricks[c][r].x = brickX;\n        bricks[c][r].y = brickY;\n        ctx.beginPath();\n        ctx.rect(brickX, brickY, brick.brickWidth, brick.brickHeight);\n        ctx.fillStyle = '#0095DD';\n        ctx.fill();\n        ctx.closePath();\n      }\n    }\n  }\n};\n\n//Обнаружение столкновения с блоком\nconst collisionDetection = () => {\n  for (let c = 0; c < brick.brickColumnCount; c++) {\n    for (let r = 0; r < brick.brickRowCount; r++) {\n      let b = bricks[c][r];\n      if (b.status == 1) {\n        if (\n          x > b.x &&\n          x < b.x + brick.brickWidth &&\n          y > b.y &&\n          y < b.y + brick.brickHeight\n        ) {\n          dy = -dy;\n          b.status = 0;\n          score++;\n          if (score == brick.brickRowCount * brick.brickColumnCount) {\n            alert('YOU WIN, CONGRATULATIONS!');\n            document.location.reload();\n          }\n        }\n      }\n    }\n  }\n};\n\n//Отрисовка счета\nconst drawScore = () => {\n  ctx.font = '16px Arial';\n  ctx.fillStyle = '#0095DD';\n  ctx.fillText('Score: ' + score, 8, 20);\n};\n\n//отрисовка жизней\nconst drawLives = () => {\n  ctx.font = '16px Arial';\n  ctx.fillStyle = '#0095DD';\n  ctx.fillText('Lives: ' + lives, refs.canvas.width - 65, 20);\n};\n\n// Отрисовка полотна\nconst draw = () => {\n  ctx.clearRect(0, 0, refs.canvas.width, refs.canvas.height);\n  drawBall();\n  drawPaddle();\n  collisionDetection();\n  drawScore();\n  drawLives();\n  drawBricks();\n\n  if (x + dx > refs.canvas.width - ballRadius || x + dx < ballRadius) {\n    dx = -dx;\n  }\n  if (y + dy < ballRadius) {\n    dy = -dy;\n  } else if (y + dy > refs.canvas.height - ballRadius) {\n    if (x > paddleX && x < paddleX + paddleWidth) {\n      dy = -dy;\n    } else {\n      lives--;\n      if (!lives) {\n        alert('GAME OVER');\n        document.location.reload();\n        clearInterval(interval); // Needed for Chrome to end game\n      } else {\n        x = refs.canvas.width / 2;\n        y = refs.canvas.height - 30;\n        dx = 2;\n        dy = -2;\n        paddleX = (refs.canvas.width - paddleWidth) / 2;\n      }\n    }\n  }\n\n  x += dx;\n  y += dy;\n\n  if (rightPressed && paddleX < refs.canvas.width - paddleWidth) {\n    paddleX += 7;\n  } else if (leftPressed && paddleX > 0) {\n    paddleX -= 7;\n  }\n  // requestAnimationFrame(draw);\n};\n\nconst keyDownHandler = event => {\n  if (event.keyCode == 39) {\n    rightPressed = true;\n  } else if (event.keyCode == 37) {\n    leftPressed = true;\n  }\n};\nconst keyUpHandler = event => {\n  if (event.keyCode == 39) {\n    rightPressed = false;\n  } else if (event.keyCode == 37) {\n    leftPressed = false;\n  }\n};\nconst mouseMoveHandler = event => {\n  let relativeX = event.clientX - refs.canvas.offsetLeft;\n  if (relativeX > 0 && relativeX < refs.canvas.width) {\n    paddleX = relativeX - paddleWidth / 2;\n  }\n};\n\nconst interval = setInterval(draw, 10);\n\ndocument.addEventListener('keydown', keyDownHandler);\ndocument.addEventListener('keyup', keyUpHandler);\ndocument.addEventListener('mousemove', mouseMoveHandler);\n"],"names":["$b8f9b7833fa37166$var$refs","canvas","document","querySelector","$b8f9b7833fa37166$var$brick","$b8f9b7833fa37166$var$bricks","$b8f9b7833fa37166$var$c","$b8f9b7833fa37166$var$r","x","y","status","$b8f9b7833fa37166$var$ctx","getContext","$b8f9b7833fa37166$var$paddleWidth","$b8f9b7833fa37166$var$x","width","$b8f9b7833fa37166$var$y","height","$b8f9b7833fa37166$var$dx","$b8f9b7833fa37166$var$dy","$b8f9b7833fa37166$var$paddleX","$b8f9b7833fa37166$var$rightPressed","$b8f9b7833fa37166$var$leftPressed","$b8f9b7833fa37166$var$score","$b8f9b7833fa37166$var$lives","$b8f9b7833fa37166$var$interval","setInterval","clearRect","beginPath","arc","Math","PI","fillStyle","fill","closePath","rect","c2","r","b","alert","location","reload","$b8f9b7833fa37166$var$collisionDetection","font","fillText","c1","brickX","brickY","$b8f9b7833fa37166$var$drawBricks","clearInterval","addEventListener","event","keyCode","relativeX","clientX","offsetLeft"],"version":3,"file":"index.0331c8b7.js.map"}