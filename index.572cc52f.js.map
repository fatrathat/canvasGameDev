{"mappings":"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","sources":["src/index.js"],"sourcesContent":["const refs = {\n  canvas: document.querySelector('#myCanvas'),\n};\n\nconst brick = {\n  brickRowCount: 3,\n  brickColumnCount: 5,\n  brickWidth: 75,\n  brickHeight: 20,\n  brickPadding: 10,\n  brickOffsetTop: 30,\n  brickOffsetLeft: 30,\n};\n\nconst bricks = [];\nfor (let c = 0; c < brick.brickColumnCount; c++) {\n  bricks[c] = [];\n  for (let r = 0; r < brick.brickRowCount; r++) {\n    bricks[c][r] = { x: 0, y: 0, status: 1 };\n  }\n}\n\nconst ctx = refs.canvas.getContext('2d');\nconst ballRadius = 10;\nconst paddleHeight = 10;\nconst paddleWidth = 75;\n\nlet x = refs.canvas.width / 2;\nlet y = refs.canvas.height - 30;\nlet dx = 2;\nlet dy = -2;\nlet paddleX = (refs.canvas.width - paddleWidth) / 2;\nlet rightPressed = false;\nlet leftPressed = false;\nlet score = 0;\nlet lives = 3;\n\n// Отрисовка мяча\nconst drawBall = () => {\n  ctx.beginPath();\n  ctx.arc(x, y, ballRadius, 0, Math.PI * 2);\n  ctx.fillStyle = '#0095DD';\n  ctx.fill();\n  ctx.closePath();\n};\n\n// Отрисовка ракетки\nconst drawPaddle = () => {\n  ctx.beginPath();\n  ctx.rect(\n    paddleX,\n    refs.canvas.height - paddleHeight,\n    paddleWidth,\n    paddleHeight\n  );\n  ctx.fillStyle = '#0095DD';\n  ctx.fill();\n  ctx.closePath();\n};\n\n//Отрисовка блоков\nconst drawBricks = () => {\n  for (let c = 0; c < brick.brickColumnCount; c++) {\n    for (let r = 0; r < brick.brickRowCount; r++) {\n      if (bricks[c][r].status == 1) {\n        let brickX =\n          c * (brick.brickWidth + brick.brickPadding) + brick.brickOffsetLeft;\n        let brickY =\n          r * (brick.brickHeight + brick.brickPadding) + brick.brickOffsetTop;\n        bricks[c][r].x = brickX;\n        bricks[c][r].y = brickY;\n        ctx.beginPath();\n        ctx.rect(brickX, brickY, brick.brickWidth, brick.brickHeight);\n        ctx.fillStyle = '#0095DD';\n        ctx.fill();\n        ctx.closePath();\n      }\n    }\n  }\n};\n\n//Обнаружение столкновения с блоком\nconst collisionDetection = () => {\n  for (let c = 0; c < brick.brickColumnCount; c++) {\n    for (let r = 0; r < brick.brickRowCount; r++) {\n      let b = bricks[c][r];\n      if (b.status == 1) {\n        if (\n          x > b.x &&\n          x < b.x + brick.brickWidth &&\n          y > b.y &&\n          y < b.y + brick.brickHeight\n        ) {\n          dy = -dy;\n          b.status = 0;\n          score++;\n          if (score == brick.brickRowCount * brick.brickColumnCount) {\n            alert('YOU WIN, CONGRATULATIONS!');\n            document.location.reload();\n          }\n        }\n      }\n    }\n  }\n};\n\n//Отрисовка счета\nconst drawScore = () => {\n  ctx.font = '16px Arial';\n  ctx.fillStyle = '#0095DD';\n  ctx.fillText('Score: ' + score, 8, 20);\n};\n\n//отрисовка жизней\nconst drawLives = () => {\n  ctx.font = '16px Arial';\n  ctx.fillStyle = '#0095DD';\n  ctx.fillText('Lives: ' + lives, refs.canvas.width - 65, 20);\n};\n\n// Отрисовка полотна\nconst draw = () => {\n  ctx.clearRect(0, 0, refs.canvas.width, refs.canvas.height);\n  drawBall();\n  drawPaddle();\n  collisionDetection();\n  drawScore();\n  drawLives();\n  drawBricks();\n\n  if (x + dx > refs.canvas.width - ballRadius || x + dx < ballRadius) {\n    dx = -dx;\n  }\n  if (y + dy < ballRadius) {\n    dy = -dy;\n  } else if (y + dy > refs.canvas.height - ballRadius) {\n    if (x > paddleX && x < paddleX + paddleWidth) {\n      dy = -dy;\n    } else {\n      lives--;\n      if (!lives) {\n        alert('GAME OVER');\n        document.location.reload();\n        clearInterval(interval); // Needed for Chrome to end game\n      } else {\n        x = refs.canvas.width / 2;\n        y = refs.canvas.height - 30;\n        dx = 2;\n        dy = -2;\n        paddleX = (refs.canvas.width - paddleWidth) / 2;\n      }\n    }\n  }\n\n  x += dx;\n  y += dy;\n\n  if (rightPressed && paddleX < refs.canvas.width - paddleWidth) {\n    paddleX += 7;\n  } else if (leftPressed && paddleX > 0) {\n    paddleX -= 7;\n  }\n  // requestAnimationFrame(draw);\n};\n\nconst keyDownHandler = event => {\n  if (event.keyCode == 39) {\n    rightPressed = true;\n  } else if (event.keyCode == 37) {\n    leftPressed = true;\n  }\n};\nconst keyUpHandler = event => {\n  if (event.keyCode == 39) {\n    rightPressed = false;\n  } else if (event.keyCode == 37) {\n    leftPressed = false;\n  }\n};\nconst mouseMoveHandler = event => {\n  let relativeX = event.clientX - refs.canvas.offsetLeft;\n  if (relativeX > 0 && relativeX < refs.canvas.width) {\n    paddleX = relativeX - paddleWidth / 2;\n  }\n};\n\nconst interval = setInterval(draw, 10);\n\ndocument.addEventListener('keydown', keyDownHandler);\ndocument.addEventListener('keyup', keyUpHandler);\ndocument.addEventListener('mousemove', mouseMoveHandler);\n"],"names":["$1f0dc3b9307be026$var$refs","canvas","document","querySelector","$1f0dc3b9307be026$var$brick","$1f0dc3b9307be026$var$bricks","c","r","x","y","status","$1f0dc3b9307be026$var$ctx","getContext","$1f0dc3b9307be026$var$x","width","$1f0dc3b9307be026$var$y","height","$1f0dc3b9307be026$var$dx","$1f0dc3b9307be026$var$dy","$1f0dc3b9307be026$var$paddleX","$1f0dc3b9307be026$var$rightPressed","$1f0dc3b9307be026$var$leftPressed","$1f0dc3b9307be026$var$score","$1f0dc3b9307be026$var$lives","$1f0dc3b9307be026$var$interval","setInterval","clearRect","beginPath","arc","Math","PI","fillStyle","fill","closePath","rect","c2","b","alert","location","reload","$1f0dc3b9307be026$var$collisionDetection","font","fillText","c1","brickX","brickY","$1f0dc3b9307be026$var$drawBricks","clearInterval","addEventListener","event","keyCode","relativeX","clientX","offsetLeft","$1f0dc3b9307be026$var$paddleWidth"],"version":3,"file":"index.572cc52f.js.map"}